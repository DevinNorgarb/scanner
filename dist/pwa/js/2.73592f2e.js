(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{8041:function(e,t,a){"use strict";var r=a("d924"),n=a.n(r);n.a},"8b24":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("q-card",[a("q-card-section",[a("scanner",{attrs:{"reader-size":e.readerSize,"reader-type":"ean_reader",readers:e.getActiveReaders,multiple:e.multiple},on:{detected:e.detected}})],1)],1),a("div",{staticClass:"q-pa-md"},[a("h3",{staticStyle:{"font-size":"1rem !important","font-weight":"300"}},[e._v("\n      Decoded result: "+e._s(e.currentCode)+"\n    ")]),a("q-separator",{attrs:{spaced:""}}),a("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[a("q-expansion-item",{attrs:{"expand-separator":"",icon:"settings",label:"Settings (Work in progress)",caption:"Configure the scanner"}},[a("q-card",[a("q-card-section",[a("q-toggle",{attrs:{label:"Multiple","false-value":!1,"true-value":!0,value:e.multiple},model:{value:e.multiple,callback:function(t){e.multiple=t},expression:"multiple"}})],1)],1)],1),a("q-expansion-item",{attrs:{"expand-separator":"",icon:"qr_code_scanner",label:"Select Barcode Readers"}},e._l(e.readers,(function(t,r){return a("q-card",{key:r},[a("q-card-section",[a("q-toggle",{key:r,attrs:{icon:"qr_code_scanner",label:t.name,"true-value":!0,"false-value":!1,value:t.active},model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"reader.active"}})],1)],1)})),1)],1)],1),a("pre",[e._v("    "+e._s(e.results)+"\n  ")])],1)},n=[],i=(a("d25f"),a("6d67"),a("7f7f"),a("7514"),a("be2c")),c=a.n(i),o=(a("8010"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"viewport scanner",attrs:{id:"interactive"}},[a("div",{staticClass:"row items-center ",staticStyle:{height:"70vh"}},[a("video"),a("canvas",{staticClass:"drawingBuffer"}),a("div",{staticClass:"col text-center q-pa-sm"},[a("q-btn",{staticClass:"full-width",attrs:{color:"secondary",icon:"camera_alt",label:"Scan Parcel",size:"lg"},on:{click:function(t){return e.reInit()}}})],1)])])])}),d=[],s=(a("c5f6"),{name:"Scanner",props:{onDetected:{type:Function},onProcessed:{type:Function},readers:{type:Array,default:function(){return["ean_reader"]}},multiple:{type:Boolean,default:function(){return!1}},readerSize:{width:{type:Number,default:640},height:{type:Number,default:480}}},data:function(){return{quaggaState:{multiple:this.multiple,inputStream:{type:"LiveStream",constraints:{width:{min:this.readerSize.width},height:{min:this.readerSize.height},facingMode:"environment",aspectRatio:{min:1,max:2}}},locator:{patchSize:"small",halfSample:!1},numOfWorkers:4,frequency:10,decoder:{readers:this.readers},locate:!0,lastResult:!0}}},mounted:function(){console.log(this.readers),this.init()},methods:{init:function(){this.quaggaState.decoder.readers=this.readers,c.a.init(this.quaggaState,(function(e){if(e)return console.log(e);c.a.start()})),c.a.onProcessed(this._onProcessed)},reInit:function(){c.a.stop(),this.init()},afterDetected:function(e){console.log("after detect"),console.log(e),c.a.stop(),this.$emit("detected",e)},getImage:function(){var e=c.a.canvas.dom.image;return e.toDataURL()},_onProcessed:function(e){var t=c.a.canvas.ctx.overlay,a=c.a.canvas.dom.overlay;e&&(e.boxes&&(t.clearRect(0,0,parseInt(a.getAttribute("width")),parseInt(a.getAttribute("height"))),e.boxes.filter((function(t){return t!==e.box})).forEach((function(e){c.a.ImageDebug.drawPath(e,{x:0,y:1},t,{color:"green",lineWidth:2})}))),e.box&&c.a.ImageDebug.drawPath(e.box,{x:0,y:1},t,{color:"#00F",lineWidth:2}),e.codeResult&&e.codeResult.code&&(c.a.ImageDebug.drawPath(e.line,{x:"x",y:"y"},t,{color:"red",lineWidth:7}),this.afterDetected(e)))},_onDetected:function(e){console.log("detected: ",e)}}}),l=s,u=(a("e132"),a("2877")),f=Object(u["a"])(l,o,d,!1,null,null,null),m=f.exports,p=(a("1157"),a("bc3a"),a("b178")),v={components:{Scanner:m},mounted:function(){var e=this;setInterval((function(){e.countdown>0&&e.countdown--,0===e.countdown&&(e.currentCode="")}),1e3)},computed:{getActiveReaders:function(){var e=this.readers.filter((function(e){return e.active}));return e.map((function(e){return e.name}))}},data:function(){return{readerSize:{width:640,height:480},multiple:!0,readers:[{name:"code_128_reader",id:"code_128_reader",active:!0},{name:"ean_reader",id:"ean_reader",active:!0},{name:"ean_8_reader",id:"ean_8_reader",active:!0},{name:"code_39_reader",id:"code_39_reader",active:!0},{name:"code_39_vin_reader",id:"code_39_vin_reader",active:!0},{name:"codabar_reader",id:"codabar_reader",active:!0},{name:"upc_reader",id:"upc_reader",active:!0},{name:"upc_e_reader",id:"upc_e_reader",active:!0},{name:"i2of5_reader",id:"i2of5_reader",active:!0},{name:"2of5_reader",id:"2of5_reader",active:!0},{name:"code_93_reader",id:"code_93_reader",active:!0},{name:"code_32_reader",id:"code_32_reader",active:!0}],activeReaders:[],data:null,resultcode:"-",results:[],resultCodeInfo:"-",currentCode:"",countdown:0}},methods:{detected:function(e){this.countdown=10,this.currentCode=e.codeResult.code,alert(this.currentCode),p["a"].create({message:"Code: "+e.codeResult.code,position:"bottom",type:"success",duration:5e3});var t=this.results.find((function(t){return t.code==e.codeResult.code}));t||(this.results.push({code:e.codeResult.code}),console.log(e,"detecsted"))},logIt:function(e){}}},_=v,h=(a("8041"),Object(u["a"])(_,r,n,!1,null,null,null));t["default"]=h.exports},d924:function(e,t,a){},e132:function(e,t,a){"use strict";var r=a("fa26"),n=a.n(r);n.a},fa26:function(e,t,a){}}]);